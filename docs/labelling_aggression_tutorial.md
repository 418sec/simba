# Labelling Behavior

## 1. Loading project_config file 
`File > Load Project > Load Project.ini > Browse File` Select your config file for the current project. This step **must** be done before proceeding to the next step.

## 2. Opening labelling behavior window
In the 'Load project' window, under `Label Behavior` select `Select folder with frames`. This will prompt you to select a **folder** of video frames. Upon selecting, a new window should pop up displaying the first frame in the folder. 

A table will also be generated on the main screen displaying the behaviors and frames. Behaviors are marked on the table as either `0` or `1`. 

<img src="https://github.com/sgoldenlab/simba/blob/master/images/labelling_table.PNG" width="600" height="450" />

> Note: At any time, users can refer to the main screen to see the values of the frame, as well as the values of the previous and next 25 frames.

## 3. Labelling 
Under **Check Behaviors** is a list of checkboxes generated by behaviors imported from the `project_config` file. Users can check (or uncheck) the boxes if the frame displays certain behaviors, then press `Save and Advance to the next frame` to save the data for that particular frame.

<img src="https://github.com/sgoldenlab/simba/blob/master/images/labelling_mainscreen.PNG" width="500" height="450" />

## Navigation
Underneath the displayed image, there are options for navigating through all the frames:

#### Using Mouse

`<<` jump to the first image in the folder 

`>>` jump to the last image in the folder

`<` go back to the previous frame 

`>` advance to the next frame 

`Jump Size` Users can select a range by which to advance or jump backwards, then pressing the `<<` or `>>` buttons to the right of the scale to display the corresponding frame.

`Jump to selected frame` Users also have the option to manually enter frame numbers into the entry box, then clicking this button to display the corresponding image.

`Frame Range` By selecting this box and entering a range of numbers in the adjaecent entry boxes, saving and advancing to the next frame will save all marked behaviors from the first to the last selected frame inclusive. 

`Generate and Quit` This will compile and export the data to a .csv file located in the project folder `...\\targets_inserted\\...`

#### Key Shortcuts 

Key shortcuts have been provided on the right side of the window for ease of use. 
`For Video` is only applicable for navigating the video when opened.
`Key Presses` allows users to jump from frame to frame as well as save frames using the keyboard. 
> Important: If using Ctrl + S to save, do NOT hold down keys to save multiple frames.


#### Playing Video
`Open Current Video` Pressing this will open the video that corresponds to the frames folder being analyzed. Refer to Key Shortcuts to pause/play and move forward or backwards in the video by a certain amount of frames.

`Show current video frame` This will jump to and display the current frame of the paused video on the labelling screen.

![](https://github.com/sgoldenlab/tkinter_test/blob/master/images/openingvideo.gif)
> Note: Video name must be the same as the folder name. Video must also be paused before any other actions.



